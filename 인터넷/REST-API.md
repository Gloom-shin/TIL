> REST API에서 REST는 API를 꾸며주는 말이다.   
> 그렇기에 API를 먼저 알아보고, REST의 대해 알아보자    

# API(Application Programming Interface)
- UI가 컴퓨터와 사람간의 연결을 말한다면, API는 컴퓨터(애플리케이션)나 컴퓨터(애플리케이션) 프로그램 사이의 연결을 말한다. 
- 두 소프트웨어 구성 요소가 서로 통신 할 수 있게 하는 메커니즘을 말한다. 
- 예를 들어, 
    - 기상청의 소프트웨어 시스템에는 매일매일 기상데이터가 들어있다. 
    - 휴대폰의 날씨 앱은 API를 통해 이 시스템과 `대화`하고 휴대폰에 매일 최신 날씨 정보를 표시할 수 있다.

- 여기서 중요한 것은 API라는 뜻은 컴퓨터간의 소통 방법으로, 두 컴퓨터만 있으면 적용이 가능하다는 것이다. 

## API 작동 방식
- 일반적으로 클라이언트와 서버 측면에서 활용된다. 
- 요청을 보내는 애플리케이션 >> 클라이언트 , 응답을 보내는 애플리케이션 >> 서버 
- 위 날씨 예시에서 기창성의 **날씨 데이터베이스**는 `서버` 이고, **모바일 앱**은 `클라이언트` 이다.
- API가 생성된 시기와 이유에 따라 API는 네가지 방식으로 작동 할 수 있다. 

## API 4가지 방식
### 1. SOAP API
 - 과거에 많이 사용했던 API로 단순 객체 접근 프로토콜을 사용한다. 
 - 클라이언트와 서버는 XML을 사용하여 메시지를 교환한다. 

### 2.RPC API
 - API를 원격 프로시저 호출이라고 한다. 
 - 클라이언트가 서버에서 함수나 프로시저를 완료하면서버가 출력을 클라이언트로 다시 전송한다.

### 3.Websocket API
 - JSON 객체를 사용하여 데이터를 전달하는 최신 웹API이다. 
 - 클라이언트 앱과 서버간의 양방향 통신을 지원하여, 지속적으로 대화를 할 수 가 있다.
 - 서버가 연결된 클라이언트에 콜백 메시지를 전송할 수 있기에 , REST API 보다 효율적이다. 

### 4.REST API
 - 웹에서 가장 많이 사용되고 유연한 API이다.
 - 클라이언트가 서버에 요청을 데이터로 전송하면, 서버가 이 클라이언트 입력을 사용하여 내부 함수를 시작하고 출력 데이터를 다시 클라이언트에 반환한다. 

## API 호출시 구성요소
 - 서브루틴(반복되어 사용하는 것을 메모리에 한 번 적재하여 여러번 사용할 수 있도록 하는 방법+)
 - 메소드 요청(요청하고자 하는 내용)
 - 통신 엔드포인트(요청하고자 하는 대상)


## 과거 API 
 - 위에서도 언급했다시피 `SOAP API`를 많이 사용했었다.
 - SOPA는 Simple Object Access Protocol로 
 - HTTP, HTTPS, SMTP 등을 통해 XML 기반의 메시지를 컴퓨터 네트워크 상에서 메시지를 교환하기 위한 통신규약이다. 

### 장점 및 특징
  -  프록시와 방화벽에 제약이 없었다. 
  -  플랫폼과 프로그래밍에 독립적이여서, 대체 가능성이 높았다. 
  -  분산환경에 적합했으며, 기존의 컴포넌트보다 상호운영성이 높았다. 
  -  Stateful방식으로 서버가 내용을 저장하여 클라이언트와 통신하였다. 

### 단점
 - 하지만, 적용하기에는 너무 복잡하였고 작성하는 것도 쉽지 않았다.
 - 해당 문법을 작성하기 위해선 별도의 Tool이 필요하다.
 - 그렇다고 가볍거나 빠르지도 않았다.(무겁고 느림)

> 서버가 보존하고 소통하는 방식은 적합하지 않다고 판단하여, 이러한 단점을 깨고자 나온것이 Restful 이다. 

# REST API
> REST API는 Restful하게 설계한 API를 말한다. 그럼 여기서 RESTful설계란 무엇일까?

## REST(Representational State Transfer)
 - API는 컴퓨터간의 소통방법을 말하는데, 컴퓨터간의 언어도 서로 다르기 때문에, 서로 공용어로 번역하여 소통을 해야한다. 
 - 여기서 REST는  뜻 그대로 공용어로 변경하는 `대표적인 상태 변경`방법을 말한다.  
 - 결국 REST는 HTTP를 잘 활용하기위한 원칙이라고 할 수 있다. 

## RESTful한 설계 
> 그럼 대표적인 상태 변경 방법이 뭐가 있을까? 
 - 중심 규칙으로 크게 5가지가 있다. 
    1. URI로 자원(Resource)을 표현해야한다.  
    2. 자원에 대한 행위는 HTTP Method(GET, POST, PUT, DELETE)로 표현된다.
    3. HTTP 헤더(메시지 본문에서 보낸 객체에 대한 필수 정보를 제공)
    4. query 파라미터(페이징, 필터링, 정렬, 수색등)
    5. 상태 코드(200, 204, 400, 404등)


## RESTful의 특징
> RESTful한 설계를, REST한 아키텍처를 쓰는 이유는 무엇일까?? 이것은 6가지 특징으로 설명할 수 있을 것 같다.
 1. 인터페이스 일관성(Uniform Interface)
    - URI로 지정한 리소스에 대한 용청을 통일되고, 한정적으로 수행하는 아키텍처 스타일
    - HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용가능하며, 의존성이 낮은 느슨한 형태를 갖는다.
    
 2. 무상태(Stateless)
    - Client context를 서버에 저장하지 않는다. 
        - 세션과 쿠기와 같은 내용을 신경쓰지 않아도 된다. 
    - Server는 각각의 요청을 완전히 별개의 것으로 인식하고 처리한다.
        - 이전 요청이 다음 요청의 처리에 연관되어서는 안됨
 
 3. 캐시 처리 기능(Cacheable)
    - 웹에서 사용하는 기존 인프라를 그대로 활용할 수 있다. 
        -  HTTP가 가진 가장 강력한 특징중 하나인 캐싱 기능을 적용할 수 있다.
        -  
    - 대량의 요청을 효율적으로 처리할 수 있다.
 4. 계층구조(Layered System)
    - Client는 REST API Server만 호출 한다.
    - REST Server는 다중 계층으로 구성될 수 있습니다.
       - 보안, 로드 밸런싱, 암호화 등을 위한 계층을 추가하여 구조를 변경할 수 있습니다.
       - Proxy, Gateway와 같은 네트워크 기반의 중간매체를 사용할 수 있습니다.
       - 하지만 Client는 Server와 직접 통신하는지, 중간 서버와 통신하는지는 알 수 없습니다.

 5. 자체표현(Code on demand or self Descriptiveness)
    - 요청 메시지만 받고도 바로 코드에 적용하여 실행할 수 있는 것을 말한다.(단, 가독성이 떨어질 수 있다.)
    - 그래서, 가독성을 높혀 요청 메시지만 보고도 쉽게 이해할 수 있는 코드를 선택하여 작성할 수도 있다.
 6. 서버-클라이언트 구조(Server-Client) 

## 결론 
 - REST는 새로운 것이 아니다. 
 - 보다 쉽고 간단히 처리하기 위해 초기 인터넷표준, URI 및 HTTP에 대한 강조를 통해 이전의 방식으로 복귀한 것이다. 

### 참고 링크 
- [API 위키 백과](https://ko.wikipedia.org/wiki/API)   
- [aws API란?](https://aws.amazon.com/ko/what-is/api/)
- [티스토리 블로그 API,HTTP API, REST API](https://bentist.tistory.com/37)
- [티스토리 블로그 REST란?](https://dev-coco.tistory.com/97)
- [REST 위키 백과](https://ko.wikipedia.org/wiki/REST)
