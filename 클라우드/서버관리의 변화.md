> 서버관리는 기술의 발전순으로 변화하였다.   
> 서버의 상태를 관리하기 위한 방법을 순서대로 알아보자.

# 자체 서버운영
- 애플리케이션을 운영하는 곳에서 직접 서버를 운영하는 방식
- 서버를 돌릴 컴퓨터부터 장만하고, 랜선, 라우터등 하드웨어부터 배포 및 유지보수까지 회사내에서 운영하고, 서버와 랙을 관리한다.

## 과정 
 - 서버 주문 - 서버 설치 - 컴퓨터 HW 연결(CPU, Memory 등) - 네트워크 연결 - OS 설치 - 계정 설정 
   - Node.js를 자체 서버에 설치한다고 생각해보자.
   - 먼저 시스템 유저를 설정하고, 환경변수를 설정하고, 방화벽 설정, 네트워크 설정, 의존성, Nodejs 실행, git에서 소스 가져오기, 설정…. -> Run
   - 이렇게 많은 과정을 거쳐서 nodsjs를 실행하게 된다.


### 특징 
 - 성능이 좋은 것을 미리 구매하고 효율적인 사용을 위해 여러 어플리케이션을 설치.
   - 서버를 설정하기 위해 많은 노력과 시간, 비용이 듬
 - 개발 운영 환경 대체가 어려움
 - 자체 문서화(버전업을 할 경우 제대로 직접 모든 내역을 기록해야함.)
   - ppt에 매뉴얼을 작성하고, 버전관리를 함
   - 그러나, 문서의 정확도, 신뢰성, 작성날짜 등 수기로 작성하기에 실수가 일어날 수 있다.
    
 <br></br>
 <br></br>

# 설정 관리 도구 
>  프로그램을 돌리면 설정을 자동으로 관리해주는 도구를 사용
>  사람이 직접 쓰는 문서보다는 좋다.
### 예시
 - CHEF, puppet, ansible 등

### 장점
 - 상태관리 코드로 버전관리도 가능하고, 상태파일만 있으면 install이 편리해짐.
 - 이전 담당자가 어떤 것을 했는지 알 수 있고, 설정 공유 가능해졌기에 협업도 가능하다.

### 단점 
 - 어려운 설정 관리 도구를 배워야한다. (러닝커브가 존재)
 - 여러 버전을 한 서버에 설치 불가능하다.

<br></br>
<br></br>

# 가상 머신
### 예시
- Virtual Box, VMWare 등의 가상머신이 등장
- Virtual Box에 Jenkins를 설치하고, 2번에 Wordpress, 3번에 Chat을 설치하면 잘 돌아간다
- 윈도우에도 WSL로 리룩스 운영체제를 설치하듯이
### 장점
 - 서버가 우선 돌아가도록 보장해준다.
 - 한 서버에 가상머신을 여러개 설치해서 쓸 수 있다.
 - 현재 상태를 저장할 수 있다
### 단점 
- 가상머신에서 그 과정을 다 기록하고 있진 않기 때문에 버전을 업데이트하거나, 처음부터 다시 설정할 땐 알 수 없다.
- 파일의 크기가 크고 이중으로 실행되기 때문에 매우 느려진다.

<br></br>
<br></br>

# 클라우드 (Iaas)

### 예시
- Amazon AWS, Google Cloud, MS Azure 등

### 장점
 - 하드웨어 파편화 문제 해결
 - 가상화된 환경만으로 아키텍처 구성이 가능해진다.
 - 이미지를 기반으로 다수의 서버 상태 관리가 가능하다.
 - 마치 전기를 사용하듯 편리하다.

### 문제점
- 서버 운영 자체는, 여전히 누군가가 담당하여 관리필요

<br></br>
<br></br>


# Paas
- PaaS(Platform-as-a-service)는 하드웨어 및 소프트웨어 플랫폼을 제공하는 클라우드 컴퓨팅을 뜻한다.
### 예시
- Heroku, Next.js의 경우 Vercel, Netlify, AWS Elastic Beanstalk, Google Cloud App Engine 등.

### 장점
- 소스 코드만으로 배포가 가능하다.
- 일반화된 프로비저닝 방법을 제공한다.
    - 프로비저닝(provisioning)은 사용자의 요구에 맞게 시스템 자원을 할당, 배치, 배포해 두었다가 필요 시 시스템을 즉시 사용할 수 있는 상태로 미리 준비해 두는 것을 말한다.

### 단점
 - 프로비저닝 과정에 개입할 수 없다. 커스터마이징할 때 문제가 생김
 - 애플리케이션을 PaaS 방식에 맞게 작성해야함.
 - 서버에 대한 원격 접속 시스템을 제공하지 않음.
 - 서버에 파일 시스템을 사용할 수 없음
 - Site패키지를 설치할 수 없음
 - 로그 수집을 제한적인 방식으로 허용(STDOUT)


<br></br>
<br></br>


# 도커
 - 컨테이너 : 격리된 환경에서 작동하는프로세스.

 - 리눅스 커널의 여러 기술을 활용
 - 하드웨어 가상화 기술보다 가벼움
 - 이미지 단위로 프로세스 실행환경을 구성

### 장점
- 어디서든 돌아간다. AWS, Azure Google Cloud 등..
- 어떠한 프로그램도 컨테이너로 만들 수 있다.
- 명령어가 동일하다. docker up 명령어로 (npm start, gradle start 등을 모두 docker up으로 실행)
- 가상머신처럼 독립적으로 실행되지만, 가상머신보다 빠르고, 쉽고, 효율적이다.

### 도커가 가져온 변화
- 클라우드 이미지보다 관리하기 쉬움
- 다른 프로세스와 격리되어 가상머신처럼 사용하지만 성능저하가 거의 없음
- 복잡한 기술(namespace, cgroups, network,…)을 몰라도 사용할 수 있음
- 이미지 빌드 기록이 남음
- 코드와 설정으로 관리 -> 재현 및 수정 가능
- 오픈 소스 -> 특정 회사 기술에 종속적이지 않음 


# 7. 쿠버네티스
 - 컨테이너를 쉽고 빠르게 배포/확장하고 관리를 자동화해주는 오픈소스 플랫폼
### 참고링크 
 - [서버 관리 방식의 변화](https://velog.io/@mjng/Docker)
 - [서버 관리의 역사](https://ritajeong.github.io/dev/2021/07/07/dev-%EC%84%9C%EB%B2%84%EA%B4%80%EB%A6%AC%EC%9D%98-%EC%97%AD%EC%82%AC/)