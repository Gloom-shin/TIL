# SQL
 - Structured Query Language 의 줄임말로, 구조화된 데이터베이스의 언어이다. 
 - MySQL, Oracle, SQLite, PostgreSQL, MariaDB 등 다양한 데이터베이스에서 사용할 수 있다.
 - 관계형데이터 베이스는 테이블의 구조와 데이터 타입등을 사전에 정의하고, 테이블에 정의된 내용에 알맞은 형태의 데이터만 삽입할 수 있다. 
 - 그래서 데이터베이스를 행(row)과 열(column)로 구성된 테이블에 데이터를 저장하는 식이다.
 - 그래서 SQL을 활용해 원하는 정보를 쿼리(조회)하기 수월하다.
   - 이말은 관계형 데이터베이스에서는 스키마가 뚜렷하다라는 의미  
> 구조화되고, 관계형 데이터베이스가 있다면, 그 반대도 있겠죠?   
> 데이터베이스계에서는 관계형 데이터베이스가 유명하여서, 데이터베이스를 나눌때 크게  관계형인지, 비 관계형인지로 나눈다.
> 그럼 비관계형 데이터베이스에 대해 알아보자

# NoSQL
 - 관계형이 아닌 데이터베이스를 통틀어 부르는 말이다. 
 - 데이터를 읽어올 때 스키마에 따라 데이터를 읽어온다.
 - 대표적으로  몽고DB, Casandra 등 이 있다

## 구성 특징 
> NoSQL은 다음과 같이 구성된다.

 - Key-Value 타입
   - 속성을 `Key-Value`의 쌍으로 나타내는 데이터를 배열의 형태로 저장한다.
 - 문서형(Document) 데이터베이스
   - 데이터를 테이블이 아닌 문서처럼 저장하는 데이터베이스를 의미한다.
   - 많은 문서형 데이터베이스에서 `JSON과 유사한 형식의 데이터`를 **문서화**하여 저장한다.
   - 대표적으로 [MongoDB](https://www.mongodb.com/atlas/database)가 여기에 속한다.
 - Wide-Column 데이터베이스
   - 데이터베이스의 `열(column)`에 대한 데이터를 집중적으로 관리하는 데이터베이스이다.
   - 각 열에는 `key-value` 형식으로 데이터가 저장되고, 칼럼 패밀리라고 하는 열의 집합체 단위로 데이터를 처리할 수 있다.
   - 하나의 행에 많은 열을 포함할수 있어서 유연성이 높다. 그래서 주로 큰데이터 분석에 주로 사용된다.
   - 대표적으로  [Cassandra](https://cassandra.apache.org/_/index.html), HBase 가 있다.
 - 그래프(Graph) 데이터베이스
   - 자료구조의 그래프와 비슷한 형식으로 데이터 간의 관계를 구성하는 데이터베이스이다.
   - 노드에 속성별로 데이터를 저장한다. 각 노드간 관계는 선으로 표현한다.
   - 대표적으로 Neo4J, InfiniteGraph 가 있다.

# 이 둘의 차이 
- 만들어진 방식(스키마)
- 저장하는 정보의 종류
- 저장하는 방법(데이터의 저장)
## 데이터의 저장 
  - SQL : 미리 작성된 스키마를 기반으로 정해진 테이블 형식에 맞춰 데이터를 (SQL문을 이용해서)저장한다.
  - NoSQL : key-value, document, wide-column, graph 등의 방식으로 데이터를 저장
## 스키마(Schema)
 - SQL : 고정된 형식의 스키마
   - 즉, 처리하려는 데이터 속성별로 열에 대한 정보를 미리 정해둬야한다.
   - 스키마를 변경할 순 있지만, 이 경우 데이터베이스 전체를 수정하거나, 오프라인으로 전환하고 수정해야한다.
 - NoSQL : 동적인 형식의 스키마 
   - 즉, 행을 추가할 때 즉시 새로운 열을 추가할 수 있고, 개별 속성에 대해서 모든 열에 대한 데이터를 반드시 입력하지 않아도 된다.

## 쿼리(조회)
> 만들어진 방식과 저장하는 방법이 다르다 보니, 자연스럽게 조회하는 방식도 차이가 난다.
  - SQL : 데이터 정보를 요청하는 것에 초점
    - 테이블 형식과 테이블간의 관계에 맞춰 데이터를 요청한다.
    - 그래서 SQL문과 같이 구조화된 쿼리언어를 사용하는 것이다.
  - NoSQL : 데이터 그룹 자체를 조회하는 것에 초점
    - 그래서 구조화되지 않은 쿼리 언어로도 데이터 요청이 가능하다. 
    - `UnSQL`라고 부르기도 한다.
## 확장성(Scalability)
 - SQL :  수직적으로 확장
   - 높은 메모리, CPU를 사용하는 확장이라고 한다. 
   - 왜냐하면 하드웨어의 성능을 많이 이용하기 때문에 비용이 많이 든다.
   - 여러 서버에 걸쳐서 데이터테이스의 관계를 정의할 수 있지만, 매우 복잡하고 시간이 많이 소모된다.
 - NoSQL : 수평적으로 확장
   - 보다 값싼 서버증설, 또는 클라우드 서비스 이용하는 확장이라고도 한다.
   - 서버를 추가적으로 구축하면, 많은 트래픽을 보다 편리하게 처리할 수 있다.

> 그럼 데이터베이스는 어떤 것을 사용해야 할까?

정답은 없다. 상황과 목적에 따라 보다 알맞는 것을 사용하면된다.
그래서 기존의 사례를 기반으로 참고해서 선택하는 것도 중요하다.

## SQL기반의 관계형 데이터베이스를 사용하는 케이스

### 1. 데이터에비스의 ACID 성질을 준수해야하는 경우
 - 안정성이 강한 데이터베이스의 형태이다.
 - 전자 상거래를 비롯한 모든 금융서비스를 위한 소프트웨어 개발해야 하는 경우는 ACID성질을 준수해야 하기에 일반적으로 SQL을 이용한 관계형데이터베이스를 사용하는 것이 좋다.

### 2.소프트웨어에 사용되는 데이터가 구조적이고 일관적인 경우
 - 규모가 많은 서버를 필요로 하지 않고 일관된 데이터를 사용한다면, 굳이 NoSQL데이터베이스를 사용해야만하는 이유가 없다.
 - 이럴경우 무난하게 SQL데이터베이스를 사용한다.

## NoSQL 기반의 비관계형 데이터베이스를 사용하는 케이스
### 1.데이터의 구조가 거의 또는 전혀 없는 대용량의 데이터를 저장하는 경우
 - 대부분의 NoSQL 데이터베이스는 저장할 수 있는 데이터의 유형에 제한이 없다.
 - 정형화 되지않은 많은 데이터가 필요하다면, NoSQL이 더 효율적일 수 있다.
### 2.클라우드 컴퓨팅 및 저장공간을 최대한 활용하는 경우
 - 저렴한 비용의 솔루션을 제공받을 수 있다.
 - 게다가 확장성이 중요하다면, 별다른 번거로움 없이 확장할 수 있는 NoSQL 데이터베이스를 사용하는 것이 좋다.

### 3.빠르게 서비스를 구축하는 과정에서 데이터 구조를 자주 업데이트 하는 경우
 - 스키마를 미리 준비할 필요가 없기 때문에 빠르게 개발하는 과정에 매우 유리하다.
 - 시장에 빠르게 프로토타입을 출시해야 하는 경우 해당된다.
 - 데이터 구조를 자주업데이트 하면서 스키마를 자주 수정해야되는 관계형 데이터베이스보다는 NoSQL이 더 효율적이다.
