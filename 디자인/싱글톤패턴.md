# 싱글톤 패턴
 - 어플리케이션이 시작될 때 어떤 클래스가 최초 한번만 메모리를 할당하고 그 메모리에 인스턴스를 만들어 사용하는 디자인 패턴이다.
 -  생성패턴 중 하나이다.
 - 전역 변수를 사용 하지않고 객체를 하나만 생성하였기에, 어디에서든지 참조 할 수가 있다. 
 - 그래서 보통 '설정'과 같은 하나만 있어도 되는 기능에 적용한다. 

### 장점
 - 고정된 메모리 영역을 얻으면서 한번의 new로 인스턴스를 사용하기 때문에 메모리 낭비를 방지할 수 있다.
 - 싱글톤으로 만들어진 클래스의 인스턴스는 전역이기 때문에 다른 클래스의 인스턴스들이 데이터를 공유하기 쉽다.
 - 두번째 이용시 부터는 객체 로딩시간이 줄어 성능이 좋아지는 장점이 있다.

### 단점
 - 싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유시킬경우에 다른 클래스의 인스턴스들 간에 결합도가 높아지게 된다.
 - `개방-폐쇄 원칙`을 위배하게된다.
 - 
## 싱글톤 패턴 만들어 보기
 - `getInstance` 함수를 통해 모든 클라이언트에게 동일한 인스턴스를 반환하는 작업을 수행한다.
 - 클래스를 만들고 필드부분에 바로 static 인스턴스를 만든다.

[예시]
```
public class CarClass {
    private static CarClass car = new CarClass(); // 필드 
                                                  // 바로 private static 인스턴스 생성, 외부에서 접근 불가능

    private CarClass(){} // 생성자 생략가능

    public static CarClass getInstance(){
        return car;
    }
    
    ...// 기능 구현 
}
```

[또다른 예시]
```
public class Setting {
    private static Setting setting = new Setting();

    public static Setting getInstance(){
        return  setting;
    }

    //글자 크기 조정
    public static void fontSize(){             // 메서드들도 다 static 메서드
        System.out.println("폰트사이즈 조절");
    }
    //배경색 조정
    public static void backgroundColor(){
        System.out.println("배경색 조정");
    }

    //소리 조절
    public static void soundControl(){
        System.out.println("소리조절");
    }
}

```

### 주의사항
 - 멀티쓰레드 환경에서 동기화 처리를 안하면 인스턴스가 2개가 생성될 수 있는 가능성이 생기게 된다. 




